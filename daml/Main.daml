-- Copyright (c) 2019 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
-- SPDX-License-Identifier: Apache-2.0

daml 1.2
module Main where

import Credential

setup = scenario do
  alice   <- getParty "Alice"
  bob     <- getParty "Bob"
  usBank  <- getParty "USD_Bank"
  eurBank <- getParty "EUR_Bank"

  -- usBank registers new identity that bob and eurBank can authenticate
  submit usBank do
    create Credential with
      issuer     = usBank
      observers  = [bob, eurBank]
      id         = "user1@email.io"
      credential = "UaJla2V5Zm6jYmlkZnNoYTI1NnJub3JtYWxpemF0aW9uLWZvcm1kTkZLQ2RzYWx0eCxGeGFvcDZxMXVXY0cvNVJneWhHdTlxNGVaTTBlZGJ3VXhNckVRb0FSNDI0PWNwdWLYG4JlZWMucHSiZWN1cnZlaXNlY3AyNTZrMWVwb2ludHgsQW8vczlzV0FqWTdYVkl0RXVRUGRUUEJaNUJrNjFiaGZYc1JTYjBuN0hIalo="